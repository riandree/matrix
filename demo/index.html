<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>matrix-element demo</title>

    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../matrix-element.html">

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      </style>
    </custom-style>

    <dom-module id="matrix-demo-element">
      <template>
        <style>
          :host {
            display: block;
          }
        </style>
        <matrix-element matrix="[[matrix]]" 
                        header="[[headers]]"
                        row-header="[[rowHeaders]]"
                        on-cell-click="onCellClick"
                        on-row-col-header-click="onRowColHdrClick"
                        on-col-header-click="onColHdrClick"
                        on-row-header-click="onRowHdrClick"
                        >
            <template>
               <span class="test">[[item]]</span>
            </template>
        </matrix-element>
        <hr>
        <matrix-element matrix="[[bool_matrix]]" 
                        header="[[bool_hdrs]]"
                        row-header="[[bool_rows]]"
                        on-cell-click="onCellClick"
                        on-row-col-header-click="onRowColHdrClick"
                        on-col-header-click="onColHdrClick"
                        on-row-header-click="onRowHdrClick"
                        >
            <template role="cell">
              <span>[[item]]</span>
            </template>
            <template role="col">
              <span>[[item]]</span>
            </template>
            <template role="row">
              <span>[[item]]</span>
            </template>
        </matrix-element>
      </template>
    
      <script>
        class MatrixDemoElement extends Polymer.Element {

          constructor() {
            super();

            this.matrix=[
              [1,2,3],
              [4,5,6],
              [7,8,9]
            ];
            this.headers=["Spalte1","Spalte2","Spalte3"];
            this.rowHeaders=["Zeile1","Zeile2","Zeile3"];
            
            this.bool_matrix = [];
            this.bool_hdrs = [];
            this.bool_rows = ["Mo","Di","Mi","Do","Fr","Sa","So"];
            for(let i=0; i<12; i++) {
                let row=[];
                this.bool_hdrs.push(i);
                for(let j=1;j<=this.bool_rows.length;j++) {
                  row.push(this._flipCoin());
                }
                this.bool_matrix.push(row);
            }
            
          }
          
          _flipCoin() {
             return Math.round() < 0.5;
          }

          onCellClick(e) {
            console.log("cell");
            console.log(e);
          }

          onColHdrClick(e) {
            console.log("colHdr");
            console.log(e);
          }

          onRowHdrClick(e) {
            console.log("rowHdr");
            console.log(e);
          }

          onRowColHdrClick(e) {
            console.log("rowColHdr");
            console.log(e);
          }

          static get is() { return 'matrix-demo-element'; }
        }
    
        window.customElements.define(MatrixDemoElement.is, MatrixDemoElement);
      </script>
    </dom-module>

  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic matrix-element demo</h3>
      <demo-snippet>
        <template>
          <matrix-demo-element>
          </matrix-demo-element>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
